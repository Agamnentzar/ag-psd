var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
import { expect } from 'chai';
import { writeDataRaw, offsetForChannel, writeDataRLE } from '../helpers';
import { createReader, readDataRLE } from '../psdReader';
import { range, repeat } from './common';
function toData(data) {
    var result = [];
    for (var i = 0; i < data.length; i++) {
        result.push(data[i], data[i], data[i], data[i]);
    }
    return new Uint8Array(result);
}
function fromData(data) {
    var result = [];
    for (var i = 0; i < data.length; i += 4) {
        result.push(data[i]);
    }
    return result;
}
describe('helpers', function () {
    describe('writeDataRaw()', function () {
        it('returns undefined for 0 size', function () {
            expect(writeDataRaw({}, 0, 0, 0)).undefined;
            expect(writeDataRaw({}, 0, 0, 100)).undefined;
            expect(writeDataRaw({}, 0, 100, 0)).undefined;
        });
        it('writes data', function () {
            writeDataRaw({ data: new Uint8ClampedArray(16 * 16 * 4), width: 16, height: 16 }, 0, 16, 16);
        });
    });
    describe('writeDataRLE()', function () {
        it('returns undefined for 0 size', function () {
            expect(writeDataRLE(new Uint8Array(1), {}, 0, 0, [0], false)).undefined;
            expect(writeDataRLE(new Uint8Array(1), {}, 0, 100, [0], false)).undefined;
            expect(writeDataRLE(new Uint8Array(1), {}, 100, 0, [0], false)).undefined;
        });
        var rleTests = [
            { name: '1', width: 1, height: 1, data: [1] },
            { name: '1 1', width: 2, height: 1, data: [1, 1] },
            { name: '1 2', width: 2, height: 1, data: [1, 2] },
            { name: '3 x 1', width: 3, height: 1, data: [1, 1, 1] },
            { name: '1 2 3', width: 3, height: 1, data: [1, 2, 3] },
            { name: '1 1 1 3 2 1', width: 6, height: 1, data: [1, 1, 1, 3, 2, 1] },
            { name: '1 2 3 1 1 1', width: 6, height: 1, data: [1, 2, 3, 1, 1, 1] },
            { name: '1 1 1 1 1 0', width: 6, height: 1, data: [1, 1, 1, 1, 1, 0] },
            { name: '3x2 1 1 1 3 2 1', width: 3, height: 2, data: [1, 1, 1, 3, 2, 1] },
            { name: '3x2 1 2 3 1 1 1', width: 3, height: 2, data: [1, 2, 3, 1, 1, 1] },
            { name: '3x3 1 1 1 1 2 2 2 1 1', width: 3, height: 3, data: [1, 1, 1, 1, 2, 2, 2, 1, 1] },
            { name: '3x3 upper range', width: 3, height: 3, data: [255, 255, 255, 254, 254, 254, 1, 1, 0] },
            { name: '128 x 1', width: 128, height: 1, data: repeat(128, 1) },
            { name: '130 x 1', width: 130, height: 1, data: repeat(130, 1) },
            { name: '130 x 1 2', width: 130, height: 1, data: repeat(130 / 2, 1, 2) },
            { name: '150 x 1', width: 150, height: 1, data: repeat(150, 1) },
            { name: '100 x 1', width: 200, height: 1, data: repeat(200, 1) },
            { name: '300 x 1', width: 300, height: 1, data: repeat(300, 1) },
            { name: '500 x 1', width: 500, height: 1, data: repeat(500, 1) },
            { name: '100x5 only 1', width: 100, height: 5, data: repeat(5 * 100, 1) },
            {
                name: 'large list of 1s with some random numbers in it', width: 100, height: 5, data: __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], repeat(10, 1), true), [
                    3, 3, 3
                ], false), repeat(164, 1), true), [
                    3
                ], false), repeat(9, 1), true), [
                    5
                ], false), repeat(5, 1), true), [
                    3, 3, 3
                ], false), repeat(304, 1), true)
            },
            {
                name: 'smal batch in sea of 0s', width: 146, height: 1, data: __spreadArray(__spreadArray(__spreadArray([], repeat(50, 0), true), [
                    1, 13, 30, 42, 54, 64, 72, 77, 82, 86, 89, 90, 93, 94, 94, 95, 95, 95, 96, 96, 96, 96, 95, 95, 95, 94,
                    93, 92, 91, 89, 87, 84, 82, 80, 76, 72, 67, 62, 57, 49, 42, 34, 26, 19, 12, 5
                ], false), repeat(50, 0), true)
            },
            {
                name: 'from broken psd', width: 141, height: 1, data: [
                    237, 234, 233, 233, 233, 232, 233, 236, 238, 239, 239, 240, 241, 241, 238, 220, 217, 217, 215, 212,
                    205, 201, 203, 207, 208, 210, 218, 226, 234, 236, 236, 238, 240, 234, 228, 208, 180, 163, 178, 189,
                    205, 218, 219, 214, 214, 213, 205, 181, 171, 154, 132, 133, 163, 177, 179, 173, 76, 122, 168, 174,
                    143, 116, 117, 133, 181, 130, 172, 190, 159, 4, 0, 45, 179, 190, 177, 167, 18, 44, 110, 174, 212,
                    223, 229, 228, 213, 210, 170, 88, 200, 222, 210, 152, 152, 151, 190, 198, 210, 179, 183, 188, 189,
                    189, 187, 187, 186, 186, 184, 193, 213, 222, 229, 232, 231, 228, 229, 233, 237, 240, 240, 238, 236,
                    231, 226, 228, 230, 229, 222, 211, 201, 193, 189, 187, 186, 186, 186, 185, 184, 184, 186, 193, 198,
                ]
            },
            { name: '127 different + 3 repeated', width: 127 + 3, height: 1, data: __spreadArray(__spreadArray([], range(0, 127), true), [1, 1, 1], false) },
        ];
        rleTests.forEach(function (_a) {
            var width = _a.width, height = _a.height, data = _a.data, name = _a.name;
            it("correctly writes & reads RLE image (".concat(name, ")"), function () {
                if ((width * height) !== data.length) {
                    throw new Error("Invalid image data size ".concat(width * height, " !== ").concat(data.length));
                }
                var array;
                var result;
                try {
                    var input = { width: width, height: height, data: toData(data) };
                    var output = { width: width, height: height, data: new Uint8Array(width * height * 4) };
                    var buffer = new Uint8Array(16 * 1024 * 1024);
                    array = writeDataRLE(buffer, input, width, height, [0], false);
                    var reader = createReader(array.buffer);
                    readDataRLE(reader, output, width, height, 4, [0], false);
                    result = fromData(output.data);
                }
                catch (e) {
                    throw new Error("Error for image: [".concat(array, "] ").concat(e.stack));
                }
                expect(result, "image: [".concat(array, "]")).eql(data);
            });
        });
    });
    describe('offsetForChannel()', function () {
        it('returns offset for other channelId', function () {
            expect(offsetForChannel(10, false)).equal(11);
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUFDLENBQUMsQ0FBQyxFQUFFLEVBQVMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDbEYsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFNLFFBQVEsR0FBdUU7WUFDcEYsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUM3QyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNsRCxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNsRCxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDdkQsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3ZELEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUN0RSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDdEUsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3RFLEVBQUUsSUFBSSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQzFFLEVBQUUsSUFBSSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQzFFLEVBQUUsSUFBSSxFQUFFLHVCQUF1QixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3pGLEVBQUUsSUFBSSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQy9GLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDaEUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNoRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDekUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNoRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ2hFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDaEUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNoRSxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUN6RTtnQkFDQyxJQUFJLEVBQUUsaURBQWlELEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksb0lBQ2hGLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzsyQkFBSyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFBRSxDQUFDOzJCQUFLLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUFFLENBQUM7MkJBQUssTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDOzJCQUFLLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLE9BQ2hIO2FBQ0Q7WUFDRDtnQkFDQyxJQUFJLEVBQUUseUJBQXlCLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksZ0RBQ3hELE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUNoQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtvQkFDckcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7MkJBQzFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQ2hCO2FBQ0Q7WUFDRDtnQkFDQyxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRTtvQkFDckQsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7b0JBQ2xHLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO29CQUNsRyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDakcsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO29CQUNoRyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDakcsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7b0JBQ2xHLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO2lCQUNsRzthQUNEO1lBQ0QsRUFBRSxJQUFJLEVBQUUsNEJBQTRCLEVBQUUsS0FBSyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLGtDQUFNLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLFVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQUMsRUFBRTtTQUNwRyxDQUFDO1FBRUYsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEVBQTZCO2dCQUEzQixLQUFLLFdBQUEsRUFBRSxNQUFNLFlBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxJQUFJLFVBQUE7WUFDNUMsRUFBRSxDQUFDLDhDQUF1QyxJQUFJLE1BQUcsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFO29CQUNyQyxNQUFNLElBQUksS0FBSyxDQUFDLGtDQUEyQixLQUFLLEdBQUcsTUFBTSxrQkFBUSxJQUFJLENBQUMsTUFBTSxDQUFFLENBQUMsQ0FBQztpQkFDaEY7Z0JBRUQsSUFBSSxLQUE2QixDQUFDO2dCQUNsQyxJQUFJLE1BQWdCLENBQUM7Z0JBRXJCLElBQUk7b0JBQ0gsSUFBTSxLQUFLLEdBQWMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO29CQUM5RSxJQUFNLE1BQU0sR0FBYyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxVQUFVLENBQUMsS0FBSyxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO29CQUVyRyxJQUFNLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxFQUFFLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDO29CQUNoRCxLQUFLLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBRSxDQUFDO29CQUVoRSxJQUFNLE1BQU0sR0FBRyxZQUFZLENBQUMsS0FBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUMzQyxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUMxRCxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDL0I7Z0JBQUMsT0FBTyxDQUFDLEVBQUU7b0JBQ1gsTUFBTSxJQUFJLEtBQUssQ0FBQyw0QkFBcUIsS0FBSyxlQUFXLENBQUUsQ0FBQyxLQUFLLENBQUUsQ0FBQyxDQUFDO2lCQUNqRTtnQkFFRCxNQUFNLENBQUMsTUFBTSxFQUFFLGtCQUFXLEtBQUssTUFBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQy9DLENBQUMsQ0FBQyxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxvQkFBb0IsRUFBRTtRQUM5QixFQUFFLENBQUMsb0NBQW9DLEVBQUU7WUFDeEMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9oZWxwZXJzLnNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleHBlY3QgfSBmcm9tICdjaGFpJztcclxuaW1wb3J0IHsgd3JpdGVEYXRhUmF3LCBvZmZzZXRGb3JDaGFubmVsLCBQaXhlbERhdGEsIFBpeGVsQXJyYXksIHdyaXRlRGF0YVJMRSB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5pbXBvcnQgeyBjcmVhdGVSZWFkZXIsIHJlYWREYXRhUkxFIH0gZnJvbSAnLi4vcHNkUmVhZGVyJztcclxuaW1wb3J0IHsgcmFuZ2UsIHJlcGVhdCB9IGZyb20gJy4vY29tbW9uJztcclxuXHJcbmZ1bmN0aW9uIHRvRGF0YShkYXRhOiBudW1iZXJbXSkge1xyXG5cdGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRyZXN1bHQucHVzaChkYXRhW2ldLCBkYXRhW2ldLCBkYXRhW2ldLCBkYXRhW2ldKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBuZXcgVWludDhBcnJheShyZXN1bHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmcm9tRGF0YShkYXRhOiBQaXhlbEFycmF5KSB7XHJcblx0Y29uc3QgcmVzdWx0OiBudW1iZXJbXSA9IFtdO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuXHRcdHJlc3VsdC5wdXNoKGRhdGFbaV0pO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZGVzY3JpYmUoJ2hlbHBlcnMnLCAoKSA9PiB7XHJcblx0ZGVzY3JpYmUoJ3dyaXRlRGF0YVJhdygpJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3JldHVybnMgdW5kZWZpbmVkIGZvciAwIHNpemUnLCAoKSA9PiB7XHJcblx0XHRcdGV4cGVjdCh3cml0ZURhdGFSYXcoe30gYXMgYW55LCAwLCAwLCAwKSkudW5kZWZpbmVkO1xyXG5cdFx0XHRleHBlY3Qod3JpdGVEYXRhUmF3KHt9IGFzIGFueSwgMCwgMCwgMTAwKSkudW5kZWZpbmVkO1xyXG5cdFx0XHRleHBlY3Qod3JpdGVEYXRhUmF3KHt9IGFzIGFueSwgMCwgMTAwLCAwKSkudW5kZWZpbmVkO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXQoJ3dyaXRlcyBkYXRhJywgKCkgPT4ge1xyXG5cdFx0XHR3cml0ZURhdGFSYXcoeyBkYXRhOiBuZXcgVWludDhDbGFtcGVkQXJyYXkoMTYgKiAxNiAqIDQpLCB3aWR0aDogMTYsIGhlaWdodDogMTYgfSwgMCwgMTYsIDE2KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZSgnd3JpdGVEYXRhUkxFKCknLCAoKSA9PiB7XHJcblx0XHRpdCgncmV0dXJucyB1bmRlZmluZWQgZm9yIDAgc2l6ZScsICgpID0+IHtcclxuXHRcdFx0ZXhwZWN0KHdyaXRlRGF0YVJMRShuZXcgVWludDhBcnJheSgxKSwge30gYXMgYW55LCAwLCAwLCBbMF0sIGZhbHNlKSkudW5kZWZpbmVkO1xyXG5cdFx0XHRleHBlY3Qod3JpdGVEYXRhUkxFKG5ldyBVaW50OEFycmF5KDEpLCB7fSBhcyBhbnksIDAsIDEwMCwgWzBdLCBmYWxzZSkpLnVuZGVmaW5lZDtcclxuXHRcdFx0ZXhwZWN0KHdyaXRlRGF0YVJMRShuZXcgVWludDhBcnJheSgxKSwge30gYXMgYW55LCAxMDAsIDAsIFswXSwgZmFsc2UpKS51bmRlZmluZWQ7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBybGVUZXN0czogeyBuYW1lOiBzdHJpbmc7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyOyBkYXRhOiBudW1iZXJbXTsgfVtdID0gW1xyXG5cdFx0XHR7IG5hbWU6ICcxJywgd2lkdGg6IDEsIGhlaWdodDogMSwgZGF0YTogWzFdIH0sXHJcblx0XHRcdHsgbmFtZTogJzEgMScsIHdpZHRoOiAyLCBoZWlnaHQ6IDEsIGRhdGE6IFsxLCAxXSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxIDInLCB3aWR0aDogMiwgaGVpZ2h0OiAxLCBkYXRhOiBbMSwgMl0gfSxcclxuXHRcdFx0eyBuYW1lOiAnMyB4IDEnLCB3aWR0aDogMywgaGVpZ2h0OiAxLCBkYXRhOiBbMSwgMSwgMV0gfSxcclxuXHRcdFx0eyBuYW1lOiAnMSAyIDMnLCB3aWR0aDogMywgaGVpZ2h0OiAxLCBkYXRhOiBbMSwgMiwgM10gfSxcclxuXHRcdFx0eyBuYW1lOiAnMSAxIDEgMyAyIDEnLCB3aWR0aDogNiwgaGVpZ2h0OiAxLCBkYXRhOiBbMSwgMSwgMSwgMywgMiwgMV0gfSxcclxuXHRcdFx0eyBuYW1lOiAnMSAyIDMgMSAxIDEnLCB3aWR0aDogNiwgaGVpZ2h0OiAxLCBkYXRhOiBbMSwgMiwgMywgMSwgMSwgMV0gfSxcclxuXHRcdFx0eyBuYW1lOiAnMSAxIDEgMSAxIDAnLCB3aWR0aDogNiwgaGVpZ2h0OiAxLCBkYXRhOiBbMSwgMSwgMSwgMSwgMSwgMF0gfSxcclxuXHRcdFx0eyBuYW1lOiAnM3gyIDEgMSAxIDMgMiAxJywgd2lkdGg6IDMsIGhlaWdodDogMiwgZGF0YTogWzEsIDEsIDEsIDMsIDIsIDFdIH0sXHJcblx0XHRcdHsgbmFtZTogJzN4MiAxIDIgMyAxIDEgMScsIHdpZHRoOiAzLCBoZWlnaHQ6IDIsIGRhdGE6IFsxLCAyLCAzLCAxLCAxLCAxXSB9LFxyXG5cdFx0XHR7IG5hbWU6ICczeDMgMSAxIDEgMSAyIDIgMiAxIDEnLCB3aWR0aDogMywgaGVpZ2h0OiAzLCBkYXRhOiBbMSwgMSwgMSwgMSwgMiwgMiwgMiwgMSwgMV0gfSxcclxuXHRcdFx0eyBuYW1lOiAnM3gzIHVwcGVyIHJhbmdlJywgd2lkdGg6IDMsIGhlaWdodDogMywgZGF0YTogWzI1NSwgMjU1LCAyNTUsIDI1NCwgMjU0LCAyNTQsIDEsIDEsIDBdIH0sXHJcblx0XHRcdHsgbmFtZTogJzEyOCB4IDEnLCB3aWR0aDogMTI4LCBoZWlnaHQ6IDEsIGRhdGE6IHJlcGVhdCgxMjgsIDEpIH0sXHJcblx0XHRcdHsgbmFtZTogJzEzMCB4IDEnLCB3aWR0aDogMTMwLCBoZWlnaHQ6IDEsIGRhdGE6IHJlcGVhdCgxMzAsIDEpIH0sXHJcblx0XHRcdHsgbmFtZTogJzEzMCB4IDEgMicsIHdpZHRoOiAxMzAsIGhlaWdodDogMSwgZGF0YTogcmVwZWF0KDEzMCAvIDIsIDEsIDIpIH0sXHJcblx0XHRcdHsgbmFtZTogJzE1MCB4IDEnLCB3aWR0aDogMTUwLCBoZWlnaHQ6IDEsIGRhdGE6IHJlcGVhdCgxNTAsIDEpIH0sXHJcblx0XHRcdHsgbmFtZTogJzEwMCB4IDEnLCB3aWR0aDogMjAwLCBoZWlnaHQ6IDEsIGRhdGE6IHJlcGVhdCgyMDAsIDEpIH0sXHJcblx0XHRcdHsgbmFtZTogJzMwMCB4IDEnLCB3aWR0aDogMzAwLCBoZWlnaHQ6IDEsIGRhdGE6IHJlcGVhdCgzMDAsIDEpIH0sXHJcblx0XHRcdHsgbmFtZTogJzUwMCB4IDEnLCB3aWR0aDogNTAwLCBoZWlnaHQ6IDEsIGRhdGE6IHJlcGVhdCg1MDAsIDEpIH0sXHJcblx0XHRcdHsgbmFtZTogJzEwMHg1IG9ubHkgMScsIHdpZHRoOiAxMDAsIGhlaWdodDogNSwgZGF0YTogcmVwZWF0KDUgKiAxMDAsIDEpIH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAnbGFyZ2UgbGlzdCBvZiAxcyB3aXRoIHNvbWUgcmFuZG9tIG51bWJlcnMgaW4gaXQnLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDUsIGRhdGE6IFtcclxuXHRcdFx0XHRcdC4uLnJlcGVhdCgxMCwgMSksIDMsIDMsIDMsIC4uLnJlcGVhdCgxNjQsIDEpLCAzLCAuLi5yZXBlYXQoOSwgMSksIDUsIC4uLnJlcGVhdCg1LCAxKSwgMywgMywgMywgLi4ucmVwZWF0KDMwNCwgMSlcclxuXHRcdFx0XHRdXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAnc21hbCBiYXRjaCBpbiBzZWEgb2YgMHMnLCB3aWR0aDogMTQ2LCBoZWlnaHQ6IDEsIGRhdGE6IFtcclxuXHRcdFx0XHRcdC4uLnJlcGVhdCg1MCwgMCksXHJcblx0XHRcdFx0XHQxLCAxMywgMzAsIDQyLCA1NCwgNjQsIDcyLCA3NywgODIsIDg2LCA4OSwgOTAsIDkzLCA5NCwgOTQsIDk1LCA5NSwgOTUsIDk2LCA5NiwgOTYsIDk2LCA5NSwgOTUsIDk1LCA5NCxcclxuXHRcdFx0XHRcdDkzLCA5MiwgOTEsIDg5LCA4NywgODQsIDgyLCA4MCwgNzYsIDcyLCA2NywgNjIsIDU3LCA0OSwgNDIsIDM0LCAyNiwgMTksIDEyLCA1LFxyXG5cdFx0XHRcdFx0Li4ucmVwZWF0KDUwLCAwKVxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWU6ICdmcm9tIGJyb2tlbiBwc2QnLCB3aWR0aDogMTQxLCBoZWlnaHQ6IDEsIGRhdGE6IFtcclxuXHRcdFx0XHRcdDIzNywgMjM0LCAyMzMsIDIzMywgMjMzLCAyMzIsIDIzMywgMjM2LCAyMzgsIDIzOSwgMjM5LCAyNDAsIDI0MSwgMjQxLCAyMzgsIDIyMCwgMjE3LCAyMTcsIDIxNSwgMjEyLFxyXG5cdFx0XHRcdFx0MjA1LCAyMDEsIDIwMywgMjA3LCAyMDgsIDIxMCwgMjE4LCAyMjYsIDIzNCwgMjM2LCAyMzYsIDIzOCwgMjQwLCAyMzQsIDIyOCwgMjA4LCAxODAsIDE2MywgMTc4LCAxODksXHJcblx0XHRcdFx0XHQyMDUsIDIxOCwgMjE5LCAyMTQsIDIxNCwgMjEzLCAyMDUsIDE4MSwgMTcxLCAxNTQsIDEzMiwgMTMzLCAxNjMsIDE3NywgMTc5LCAxNzMsIDc2LCAxMjIsIDE2OCwgMTc0LFxyXG5cdFx0XHRcdFx0MTQzLCAxMTYsIDExNywgMTMzLCAxODEsIDEzMCwgMTcyLCAxOTAsIDE1OSwgNCwgMCwgNDUsIDE3OSwgMTkwLCAxNzcsIDE2NywgMTgsIDQ0LCAxMTAsIDE3NCwgMjEyLFxyXG5cdFx0XHRcdFx0MjIzLCAyMjksIDIyOCwgMjEzLCAyMTAsIDE3MCwgODgsIDIwMCwgMjIyLCAyMTAsIDE1MiwgMTUyLCAxNTEsIDE5MCwgMTk4LCAyMTAsIDE3OSwgMTgzLCAxODgsIDE4OSxcclxuXHRcdFx0XHRcdDE4OSwgMTg3LCAxODcsIDE4NiwgMTg2LCAxODQsIDE5MywgMjEzLCAyMjIsIDIyOSwgMjMyLCAyMzEsIDIyOCwgMjI5LCAyMzMsIDIzNywgMjQwLCAyNDAsIDIzOCwgMjM2LFxyXG5cdFx0XHRcdFx0MjMxLCAyMjYsIDIyOCwgMjMwLCAyMjksIDIyMiwgMjExLCAyMDEsIDE5MywgMTg5LCAxODcsIDE4NiwgMTg2LCAxODYsIDE4NSwgMTg0LCAxODQsIDE4NiwgMTkzLCAxOTgsXHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7IG5hbWU6ICcxMjcgZGlmZmVyZW50ICsgMyByZXBlYXRlZCcsIHdpZHRoOiAxMjcgKyAzLCBoZWlnaHQ6IDEsIGRhdGE6IFsuLi5yYW5nZSgwLCAxMjcpLCAxLCAxLCAxXSB9LFxyXG5cdFx0XTtcclxuXHJcblx0XHRybGVUZXN0cy5mb3JFYWNoKCh7IHdpZHRoLCBoZWlnaHQsIGRhdGEsIG5hbWUgfSkgPT4ge1xyXG5cdFx0XHRpdChgY29ycmVjdGx5IHdyaXRlcyAmIHJlYWRzIFJMRSBpbWFnZSAoJHtuYW1lfSlgLCAoKSA9PiB7XHJcblx0XHRcdFx0aWYgKCh3aWR0aCAqIGhlaWdodCkgIT09IGRhdGEubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW1hZ2UgZGF0YSBzaXplICR7d2lkdGggKiBoZWlnaHR9ICE9PSAke2RhdGEubGVuZ3RofWApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0bGV0IGFycmF5OiBVaW50OEFycmF5IHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdGxldCByZXN1bHQ6IG51bWJlcltdO1xyXG5cclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaW5wdXQ6IFBpeGVsRGF0YSA9IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgZGF0YTogdG9EYXRhKGRhdGEpIH07XHJcblx0XHRcdFx0XHRjb25zdCBvdXRwdXQ6IFBpeGVsRGF0YSA9IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgZGF0YTogbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KSB9O1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDE2ICogMTAyNCAqIDEwMjQpO1xyXG5cdFx0XHRcdFx0YXJyYXkgPSB3cml0ZURhdGFSTEUoYnVmZmVyLCBpbnB1dCwgd2lkdGgsIGhlaWdodCwgWzBdLCBmYWxzZSkhO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IHJlYWRlciA9IGNyZWF0ZVJlYWRlcihhcnJheSEuYnVmZmVyKTtcclxuXHRcdFx0XHRcdHJlYWREYXRhUkxFKHJlYWRlciwgb3V0cHV0LCB3aWR0aCwgaGVpZ2h0LCA0LCBbMF0sIGZhbHNlKTtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IGZyb21EYXRhKG91dHB1dC5kYXRhKTtcclxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGZvciBpbWFnZTogWyR7YXJyYXl9XSAkeyg8YW55PmUpLnN0YWNrfWApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZXhwZWN0KHJlc3VsdCwgYGltYWdlOiBbJHthcnJheX1dYCkuZXFsKGRhdGEpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZSgnb2Zmc2V0Rm9yQ2hhbm5lbCgpJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3JldHVybnMgb2Zmc2V0IGZvciBvdGhlciBjaGFubmVsSWQnLCAoKSA9PiB7XHJcblx0XHRcdGV4cGVjdChvZmZzZXRGb3JDaGFubmVsKDEwLCBmYWxzZSkpLmVxdWFsKDExKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiJGOlxccHJvamVjdHNcXGFnLXBzZFxcc3JjIn0=
