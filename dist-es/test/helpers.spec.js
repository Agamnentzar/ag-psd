var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
import { expect } from 'chai';
import { writeDataRaw, offsetForChannel, writeDataRLE } from '../helpers';
import { createReader, readDataRLE } from '../psdReader';
import { range, repeat } from './common';
function toData(data) {
    var result = [];
    for (var i = 0; i < data.length; i++) {
        result.push(data[i], data[i], data[i], data[i]);
    }
    return new Uint8Array(result);
}
function fromData(data) {
    var result = [];
    for (var i = 0; i < data.length; i += 4) {
        result.push(data[i]);
    }
    return result;
}
describe('helpers', function () {
    describe('writeDataRaw()', function () {
        it('returns undefined for 0 size', function () {
            expect(writeDataRaw({}, 0, 0, 0)).undefined;
            expect(writeDataRaw({}, 0, 0, 100)).undefined;
            expect(writeDataRaw({}, 0, 100, 0)).undefined;
        });
        it('writes data', function () {
            writeDataRaw({ data: new Uint8ClampedArray(16 * 16 * 4), width: 16, height: 16 }, 0, 16, 16);
        });
    });
    describe('writeDataRLE()', function () {
        it('returns undefined for 0 size', function () {
            expect(writeDataRLE(new Uint8Array(1), {}, 0, 0, [0], false)).undefined;
            expect(writeDataRLE(new Uint8Array(1), {}, 0, 100, [0], false)).undefined;
            expect(writeDataRLE(new Uint8Array(1), {}, 100, 0, [0], false)).undefined;
        });
        var rleTests = [
            { name: '1', width: 1, height: 1, data: [1] },
            { name: '1 1', width: 2, height: 1, data: [1, 1] },
            { name: '1 2', width: 2, height: 1, data: [1, 2] },
            { name: '3 x 1', width: 3, height: 1, data: [1, 1, 1] },
            { name: '1 2 3', width: 3, height: 1, data: [1, 2, 3] },
            { name: '1 1 1 3 2 1', width: 6, height: 1, data: [1, 1, 1, 3, 2, 1] },
            { name: '1 2 3 1 1 1', width: 6, height: 1, data: [1, 2, 3, 1, 1, 1] },
            { name: '1 1 1 1 1 0', width: 6, height: 1, data: [1, 1, 1, 1, 1, 0] },
            { name: '3x2 1 1 1 3 2 1', width: 3, height: 2, data: [1, 1, 1, 3, 2, 1] },
            { name: '3x2 1 2 3 1 1 1', width: 3, height: 2, data: [1, 2, 3, 1, 1, 1] },
            { name: '3x3 1 1 1 1 2 2 2 1 1', width: 3, height: 3, data: [1, 1, 1, 1, 2, 2, 2, 1, 1] },
            { name: '3x3 upper range', width: 3, height: 3, data: [255, 255, 255, 254, 254, 254, 1, 1, 0] },
            { name: '128 x 1', width: 128, height: 1, data: repeat(128, 1) },
            { name: '130 x 1', width: 130, height: 1, data: repeat(130, 1) },
            { name: '130 x 1 2', width: 130, height: 1, data: repeat(130 / 2, 1, 2) },
            { name: '150 x 1', width: 150, height: 1, data: repeat(150, 1) },
            { name: '100 x 1', width: 200, height: 1, data: repeat(200, 1) },
            { name: '300 x 1', width: 300, height: 1, data: repeat(300, 1) },
            { name: '500 x 1', width: 500, height: 1, data: repeat(500, 1) },
            { name: '100x5 only 1', width: 100, height: 5, data: repeat(5 * 100, 1) },
            {
                name: 'large list of 1s with some random numbers in it', width: 100, height: 5,
                data: __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], repeat(10, 1)), [
                    3, 3, 3
                ]), repeat(164, 1)), [
                    3
                ]), repeat(9, 1)), [
                    5
                ]), repeat(5, 1)), [
                    3, 3, 3
                ]), repeat(304, 1))
            },
            {
                name: 'smal batch in sea of 0s', width: 146, height: 1,
                data: __spreadArray(__spreadArray(__spreadArray([], repeat(50, 0)), [
                    1, 13, 30, 42, 54, 64, 72, 77, 82, 86, 89, 90, 93, 94, 94, 95, 95, 95, 96, 96, 96, 96, 95, 95, 95, 94,
                    93, 92, 91, 89, 87, 84, 82, 80, 76, 72, 67, 62, 57, 49, 42, 34, 26, 19, 12, 5
                ]), repeat(50, 0))
            },
            {
                name: 'from broken psd', width: 141, height: 1, data: [
                    237, 234, 233, 233, 233, 232, 233, 236, 238, 239, 239, 240, 241, 241, 238, 220, 217, 217, 215, 212,
                    205, 201, 203, 207, 208, 210, 218, 226, 234, 236, 236, 238, 240, 234, 228, 208, 180, 163, 178, 189,
                    205, 218, 219, 214, 214, 213, 205, 181, 171, 154, 132, 133, 163, 177, 179, 173, 76, 122, 168, 174,
                    143, 116, 117, 133, 181, 130, 172, 190, 159, 4, 0, 45, 179, 190, 177, 167, 18, 44, 110, 174, 212,
                    223, 229, 228, 213, 210, 170, 88, 200, 222, 210, 152, 152, 151, 190, 198, 210, 179, 183, 188, 189,
                    189, 187, 187, 186, 186, 184, 193, 213, 222, 229, 232, 231, 228, 229, 233, 237, 240, 240, 238, 236,
                    231, 226, 228, 230, 229, 222, 211, 201, 193, 189, 187, 186, 186, 186, 185, 184, 184, 186, 193, 198,
                ]
            },
            { name: '127 different + 3 repeated', width: 127 + 3, height: 1, data: __spreadArray(__spreadArray([], range(0, 127)), [1, 1, 1]) },
        ];
        rleTests.forEach(function (_a) {
            var width = _a.width, height = _a.height, data = _a.data, name = _a.name;
            it("correctly writes & reads RLE image (" + name + ")", function () {
                if ((width * height) !== data.length) {
                    throw new Error("Invalid image data size " + width * height + " !== " + data.length);
                }
                var array;
                var result;
                try {
                    var input = { width: width, height: height, data: toData(data) };
                    var output = { width: width, height: height, data: new Uint8Array(width * height * 4) };
                    var buffer = new Uint8Array(16 * 1024 * 1024);
                    array = writeDataRLE(buffer, input, width, height, [0], false);
                    var reader = createReader(array.buffer);
                    readDataRLE(reader, output, width, height, 4, [0], false);
                    result = fromData(output.data);
                }
                catch (e) {
                    throw new Error("Error for image: [" + array + "] " + e.stack);
                }
                expect(result, "image: [" + array + "]").eql(data);
            });
        });
    });
    describe('offsetForChannel()', function () {
        it('returns offset for other channelId', function () {
            expect(offsetForChannel(10, false)).equal(11);
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUN0RSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDdEUsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDMUUsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDMUUsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDekYsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDL0YsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNoRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ2hFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUN6RSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ2hFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDaEUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRTtZQUNoRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ2hFLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUs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RUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDaEcsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7b0JBQ2pHLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO29CQUNsRyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztpQkFDbEc7YUFDRDtZQUNELEVBQUUsSUFBSSxFQUFFLDRCQUE0QixFQUFFLEtBQUssRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxrQ0FBTSxLQUFLLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUU7U0FDcEcsQ0FBQztRQUVGLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxFQUE2QjtnQkFBM0IsS0FBSyxXQUFBLEVBQUUsTUFBTSxZQUFBLEVBQUUsSUFBSSxVQUFBLEVBQUUsSUFBSSxVQUFBO1lBQzVDLEVBQUUsQ0FBQyx5Q0FBdUMsSUFBSSxNQUFHLEVBQUU7Z0JBQ2xELElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRTtvQkFDckMsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBMkIsS0FBSyxHQUFHLE1BQU0sYUFBUSxJQUFJLENBQUMsTUFBUSxDQUFDLENBQUM7aUJBQ2hGO2dCQUVELElBQUksS0FBNkIsQ0FBQztnQkFDbEMsSUFBSSxNQUFnQixDQUFDO2dCQUVyQixJQUFJO29CQUNILElBQU0sS0FBSyxHQUFjLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztvQkFDOUUsSUFBTSxNQUFNLEdBQWMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksVUFBVSxDQUFDLEtBQUssR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFFckcsSUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLENBQUMsRUFBRSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztvQkFDaEQsS0FBSyxHQUFHLFlBQVksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUUsQ0FBQztvQkFFaEUsSUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLEtBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDM0MsV0FBVyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDMUQsTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQy9CO2dCQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUNYLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXFCLEtBQUssVUFBSyxDQUFDLENBQUMsS0FBTyxDQUFDLENBQUM7aUJBQzFEO2dCQUVELE1BQU0sQ0FBQyxNQUFNLEVBQUUsYUFBVyxLQUFLLE1BQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvQyxDQUFDLENBQUMsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsb0JBQW9CLEVBQUU7UUFDOUIsRUFBRSxDQUFDLG9DQUFvQyxFQUFFO1lBQ3hDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6InRlc3QvaGVscGVycy5zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAnY2hhaSc7XHJcbmltcG9ydCB7IHdyaXRlRGF0YVJhdywgb2Zmc2V0Rm9yQ2hhbm5lbCwgUGl4ZWxEYXRhLCBQaXhlbEFycmF5LCB3cml0ZURhdGFSTEUgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuaW1wb3J0IHsgY3JlYXRlUmVhZGVyLCByZWFkRGF0YVJMRSB9IGZyb20gJy4uL3BzZFJlYWRlcic7XHJcbmltcG9ydCB7IHJhbmdlLCByZXBlYXQgfSBmcm9tICcuL2NvbW1vbic7XHJcblxyXG5mdW5jdGlvbiB0b0RhdGEoZGF0YTogbnVtYmVyW10pIHtcclxuXHRjb25zdCByZXN1bHQ6IG51bWJlcltdID0gW107XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0cmVzdWx0LnB1c2goZGF0YVtpXSwgZGF0YVtpXSwgZGF0YVtpXSwgZGF0YVtpXSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzdWx0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZnJvbURhdGEoZGF0YTogUGl4ZWxBcnJheSkge1xyXG5cdGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XHJcblx0XHRyZXN1bHQucHVzaChkYXRhW2ldKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmRlc2NyaWJlKCdoZWxwZXJzJywgKCkgPT4ge1xyXG5cdGRlc2NyaWJlKCd3cml0ZURhdGFSYXcoKScsICgpID0+IHtcclxuXHRcdGl0KCdyZXR1cm5zIHVuZGVmaW5lZCBmb3IgMCBzaXplJywgKCkgPT4ge1xyXG5cdFx0XHRleHBlY3Qod3JpdGVEYXRhUmF3KHt9IGFzIGFueSwgMCwgMCwgMCkpLnVuZGVmaW5lZDtcclxuXHRcdFx0ZXhwZWN0KHdyaXRlRGF0YVJhdyh7fSBhcyBhbnksIDAsIDAsIDEwMCkpLnVuZGVmaW5lZDtcclxuXHRcdFx0ZXhwZWN0KHdyaXRlRGF0YVJhdyh7fSBhcyBhbnksIDAsIDEwMCwgMCkpLnVuZGVmaW5lZDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0KCd3cml0ZXMgZGF0YScsICgpID0+IHtcclxuXHRcdFx0d3JpdGVEYXRhUmF3KHsgZGF0YTogbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KDE2ICogMTYgKiA0KSwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sIDAsIDE2LCAxNik7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0ZGVzY3JpYmUoJ3dyaXRlRGF0YVJMRSgpJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3JldHVybnMgdW5kZWZpbmVkIGZvciAwIHNpemUnLCAoKSA9PiB7XHJcblx0XHRcdGV4cGVjdCh3cml0ZURhdGFSTEUobmV3IFVpbnQ4QXJyYXkoMSksIHt9IGFzIGFueSwgMCwgMCwgWzBdLCBmYWxzZSkpLnVuZGVmaW5lZDtcclxuXHRcdFx0ZXhwZWN0KHdyaXRlRGF0YVJMRShuZXcgVWludDhBcnJheSgxKSwge30gYXMgYW55LCAwLCAxMDAsIFswXSwgZmFsc2UpKS51bmRlZmluZWQ7XHJcblx0XHRcdGV4cGVjdCh3cml0ZURhdGFSTEUobmV3IFVpbnQ4QXJyYXkoMSksIHt9IGFzIGFueSwgMTAwLCAwLCBbMF0sIGZhbHNlKSkudW5kZWZpbmVkO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgcmxlVGVzdHM6IHsgbmFtZTogc3RyaW5nOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgZGF0YTogbnVtYmVyW107IH1bXSA9IFtcclxuXHRcdFx0eyBuYW1lOiAnMScsIHdpZHRoOiAxLCBoZWlnaHQ6IDEsIGRhdGE6IFsxXSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxIDEnLCB3aWR0aDogMiwgaGVpZ2h0OiAxLCBkYXRhOiBbMSwgMV0gfSxcclxuXHRcdFx0eyBuYW1lOiAnMSAyJywgd2lkdGg6IDIsIGhlaWdodDogMSwgZGF0YTogWzEsIDJdIH0sXHJcblx0XHRcdHsgbmFtZTogJzMgeCAxJywgd2lkdGg6IDMsIGhlaWdodDogMSwgZGF0YTogWzEsIDEsIDFdIH0sXHJcblx0XHRcdHsgbmFtZTogJzEgMiAzJywgd2lkdGg6IDMsIGhlaWdodDogMSwgZGF0YTogWzEsIDIsIDNdIH0sXHJcblx0XHRcdHsgbmFtZTogJzEgMSAxIDMgMiAxJywgd2lkdGg6IDYsIGhlaWdodDogMSwgZGF0YTogWzEsIDEsIDEsIDMsIDIsIDFdIH0sXHJcblx0XHRcdHsgbmFtZTogJzEgMiAzIDEgMSAxJywgd2lkdGg6IDYsIGhlaWdodDogMSwgZGF0YTogWzEsIDIsIDMsIDEsIDEsIDFdIH0sXHJcblx0XHRcdHsgbmFtZTogJzEgMSAxIDEgMSAwJywgd2lkdGg6IDYsIGhlaWdodDogMSwgZGF0YTogWzEsIDEsIDEsIDEsIDEsIDBdIH0sXHJcblx0XHRcdHsgbmFtZTogJzN4MiAxIDEgMSAzIDIgMScsIHdpZHRoOiAzLCBoZWlnaHQ6IDIsIGRhdGE6IFsxLCAxLCAxLCAzLCAyLCAxXSB9LFxyXG5cdFx0XHR7IG5hbWU6ICczeDIgMSAyIDMgMSAxIDEnLCB3aWR0aDogMywgaGVpZ2h0OiAyLCBkYXRhOiBbMSwgMiwgMywgMSwgMSwgMV0gfSxcclxuXHRcdFx0eyBuYW1lOiAnM3gzIDEgMSAxIDEgMiAyIDIgMSAxJywgd2lkdGg6IDMsIGhlaWdodDogMywgZGF0YTogWzEsIDEsIDEsIDEsIDIsIDIsIDIsIDEsIDFdIH0sXHJcblx0XHRcdHsgbmFtZTogJzN4MyB1cHBlciByYW5nZScsIHdpZHRoOiAzLCBoZWlnaHQ6IDMsIGRhdGE6IFsyNTUsIDI1NSwgMjU1LCAyNTQsIDI1NCwgMjU0LCAxLCAxLCAwXSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxMjggeCAxJywgd2lkdGg6IDEyOCwgaGVpZ2h0OiAxLCBkYXRhOiByZXBlYXQoMTI4LCAxKSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxMzAgeCAxJywgd2lkdGg6IDEzMCwgaGVpZ2h0OiAxLCBkYXRhOiByZXBlYXQoMTMwLCAxKSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxMzAgeCAxIDInLCB3aWR0aDogMTMwLCBoZWlnaHQ6IDEsIGRhdGE6IHJlcGVhdCgxMzAgLyAyLCAxLCAyKSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxNTAgeCAxJywgd2lkdGg6IDE1MCwgaGVpZ2h0OiAxLCBkYXRhOiByZXBlYXQoMTUwLCAxKSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxMDAgeCAxJywgd2lkdGg6IDIwMCwgaGVpZ2h0OiAxLCBkYXRhOiByZXBlYXQoMjAwLCAxKSB9LFxyXG5cdFx0XHR7IG5hbWU6ICczMDAgeCAxJywgd2lkdGg6IDMwMCwgaGVpZ2h0OiAxLCBkYXRhOiByZXBlYXQoMzAwLCAxKSB9LFxyXG5cdFx0XHR7IG5hbWU6ICc1MDAgeCAxJywgd2lkdGg6IDUwMCwgaGVpZ2h0OiAxLCBkYXRhOiByZXBlYXQoNTAwLCAxKSB9LFxyXG5cdFx0XHR7IG5hbWU6ICcxMDB4NSBvbmx5IDEnLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDUsIGRhdGE6IHJlcGVhdCg1ICogMTAwLCAxKSB9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ2xhcmdlIGxpc3Qgb2YgMXMgd2l0aCBzb21lIHJhbmRvbSBudW1iZXJzIGluIGl0Jywgd2lkdGg6IDEwMCwgaGVpZ2h0OiA1LCBkYXRhOiBbXHJcblx0XHRcdFx0XHQuLi5yZXBlYXQoMTAsIDEpLCAzLCAzLCAzLCAuLi5yZXBlYXQoMTY0LCAxKSwgMywgLi4ucmVwZWF0KDksIDEpLCA1LCAuLi5yZXBlYXQoNSwgMSksIDMsIDMsIDMsIC4uLnJlcGVhdCgzMDQsIDEpXHJcblx0XHRcdFx0XVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ3NtYWwgYmF0Y2ggaW4gc2VhIG9mIDBzJywgd2lkdGg6IDE0NiwgaGVpZ2h0OiAxLCBkYXRhOiBbXHJcblx0XHRcdFx0XHQuLi5yZXBlYXQoNTAsIDApLFxyXG5cdFx0XHRcdFx0MSwgMTMsIDMwLCA0MiwgNTQsIDY0LCA3MiwgNzcsIDgyLCA4NiwgODksIDkwLCA5MywgOTQsIDk0LCA5NSwgOTUsIDk1LCA5NiwgOTYsIDk2LCA5NiwgOTUsIDk1LCA5NSwgOTQsXHJcblx0XHRcdFx0XHQ5MywgOTIsIDkxLCA4OSwgODcsIDg0LCA4MiwgODAsIDc2LCA3MiwgNjcsIDYyLCA1NywgNDksIDQyLCAzNCwgMjYsIDE5LCAxMiwgNSxcclxuXHRcdFx0XHRcdC4uLnJlcGVhdCg1MCwgMClcclxuXHRcdFx0XHRdXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lOiAnZnJvbSBicm9rZW4gcHNkJywgd2lkdGg6IDE0MSwgaGVpZ2h0OiAxLCBkYXRhOiBbXHJcblx0XHRcdFx0XHQyMzcsIDIzNCwgMjMzLCAyMzMsIDIzMywgMjMyLCAyMzMsIDIzNiwgMjM4LCAyMzksIDIzOSwgMjQwLCAyNDEsIDI0MSwgMjM4LCAyMjAsIDIxNywgMjE3LCAyMTUsIDIxMixcclxuXHRcdFx0XHRcdDIwNSwgMjAxLCAyMDMsIDIwNywgMjA4LCAyMTAsIDIxOCwgMjI2LCAyMzQsIDIzNiwgMjM2LCAyMzgsIDI0MCwgMjM0LCAyMjgsIDIwOCwgMTgwLCAxNjMsIDE3OCwgMTg5LFxyXG5cdFx0XHRcdFx0MjA1LCAyMTgsIDIxOSwgMjE0LCAyMTQsIDIxMywgMjA1LCAxODEsIDE3MSwgMTU0LCAxMzIsIDEzMywgMTYzLCAxNzcsIDE3OSwgMTczLCA3NiwgMTIyLCAxNjgsIDE3NCxcclxuXHRcdFx0XHRcdDE0MywgMTE2LCAxMTcsIDEzMywgMTgxLCAxMzAsIDE3MiwgMTkwLCAxNTksIDQsIDAsIDQ1LCAxNzksIDE5MCwgMTc3LCAxNjcsIDE4LCA0NCwgMTEwLCAxNzQsIDIxMixcclxuXHRcdFx0XHRcdDIyMywgMjI5LCAyMjgsIDIxMywgMjEwLCAxNzAsIDg4LCAyMDAsIDIyMiwgMjEwLCAxNTIsIDE1MiwgMTUxLCAxOTAsIDE5OCwgMjEwLCAxNzksIDE4MywgMTg4LCAxODksXHJcblx0XHRcdFx0XHQxODksIDE4NywgMTg3LCAxODYsIDE4NiwgMTg0LCAxOTMsIDIxMywgMjIyLCAyMjksIDIzMiwgMjMxLCAyMjgsIDIyOSwgMjMzLCAyMzcsIDI0MCwgMjQwLCAyMzgsIDIzNixcclxuXHRcdFx0XHRcdDIzMSwgMjI2LCAyMjgsIDIzMCwgMjI5LCAyMjIsIDIxMSwgMjAxLCAxOTMsIDE4OSwgMTg3LCAxODYsIDE4NiwgMTg2LCAxODUsIDE4NCwgMTg0LCAxODYsIDE5MywgMTk4LFxyXG5cdFx0XHRcdF1cclxuXHRcdFx0fSxcclxuXHRcdFx0eyBuYW1lOiAnMTI3IGRpZmZlcmVudCArIDMgcmVwZWF0ZWQnLCB3aWR0aDogMTI3ICsgMywgaGVpZ2h0OiAxLCBkYXRhOiBbLi4ucmFuZ2UoMCwgMTI3KSwgMSwgMSwgMV0gfSxcclxuXHRcdF07XHJcblxyXG5cdFx0cmxlVGVzdHMuZm9yRWFjaCgoeyB3aWR0aCwgaGVpZ2h0LCBkYXRhLCBuYW1lIH0pID0+IHtcclxuXHRcdFx0aXQoYGNvcnJlY3RseSB3cml0ZXMgJiByZWFkcyBSTEUgaW1hZ2UgKCR7bmFtZX0pYCwgKCkgPT4ge1xyXG5cdFx0XHRcdGlmICgod2lkdGggKiBoZWlnaHQpICE9PSBkYXRhLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGltYWdlIGRhdGEgc2l6ZSAke3dpZHRoICogaGVpZ2h0fSAhPT0gJHtkYXRhLmxlbmd0aH1gKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGxldCBhcnJheTogVWludDhBcnJheSB8IHVuZGVmaW5lZDtcclxuXHRcdFx0XHRsZXQgcmVzdWx0OiBudW1iZXJbXTtcclxuXHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGNvbnN0IGlucHV0OiBQaXhlbERhdGEgPSB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsIGRhdGE6IHRvRGF0YShkYXRhKSB9O1xyXG5cdFx0XHRcdFx0Y29uc3Qgb3V0cHV0OiBQaXhlbERhdGEgPSB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsIGRhdGE6IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogNCkgfTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSgxNiAqIDEwMjQgKiAxMDI0KTtcclxuXHRcdFx0XHRcdGFycmF5ID0gd3JpdGVEYXRhUkxFKGJ1ZmZlciwgaW5wdXQsIHdpZHRoLCBoZWlnaHQsIFswXSwgZmFsc2UpITtcclxuXHJcblx0XHRcdFx0XHRjb25zdCByZWFkZXIgPSBjcmVhdGVSZWFkZXIoYXJyYXkhLmJ1ZmZlcik7XHJcblx0XHRcdFx0XHRyZWFkRGF0YVJMRShyZWFkZXIsIG91dHB1dCwgd2lkdGgsIGhlaWdodCwgNCwgWzBdLCBmYWxzZSk7XHJcblx0XHRcdFx0XHRyZXN1bHQgPSBmcm9tRGF0YShvdXRwdXQuZGF0YSk7XHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBFcnJvciBmb3IgaW1hZ2U6IFske2FycmF5fV0gJHtlLnN0YWNrfWApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZXhwZWN0KHJlc3VsdCwgYGltYWdlOiBbJHthcnJheX1dYCkuZXFsKGRhdGEpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZSgnb2Zmc2V0Rm9yQ2hhbm5lbCgpJywgKCkgPT4ge1xyXG5cdFx0aXQoJ3JldHVybnMgb2Zmc2V0IGZvciBvdGhlciBjaGFubmVsSWQnLCAoKSA9PiB7XHJcblx0XHRcdGV4cGVjdChvZmZzZXRGb3JDaGFubmVsKDEwLCBmYWxzZSkpLmVxdWFsKDExKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiJGOlxccHJvamVjdHNcXGFnLXBzZFxcc3JjIn0=
